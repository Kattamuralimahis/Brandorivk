<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brandorivk | Premium Apparel</title>
    <style>
        :root { --primary: #1a1a1a; --accent: #e67e22; --light: #f4f4f4; --white: #ffffff; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--light); color: var(--primary); }
        header { background: var(--white); padding: 1rem 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        .logo { font-size: 1.5rem; font-weight: 800; text-transform: uppercase; cursor: pointer; }
        .logo span { color: var(--accent); }
        .cart-icon { cursor: pointer; position: relative; font-weight: bold; padding: 8px 12px; border-radius: 6px; }
        .cart-icon:hover { background: var(--light); }
        .cart-count { background: var(--accent); color: white; border-radius: 50%; padding: 2px 6px; font-size: 0.8rem; position: absolute; top: -8px; right: -10px; display: none; }
        .hero { background: linear-gradient(135deg, var(--primary) 0%, #2c2c2c 100%); color: white; text-align: center; padding: 4rem 1rem; margin-bottom: 2rem; }
        .hero h1 { font-size: 2.5rem; margin-bottom: 1rem; }
        .hero button { padding: 12px 28px; background: var(--accent); border: none; color: white; font-weight: bold; cursor: pointer; border-radius: 6px; }
        .hero button:hover { background: #d35400; }
        .filters { text-align: center; margin-bottom: 2rem; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
        .filter-btn { padding: 10px 20px; border: 2px solid var(--primary); background: transparent; cursor: pointer; border-radius: 25px; }
        .filter-btn.active, .filter-btn:hover { background: var(--primary); color: white; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 1.5rem; margin-bottom: 4rem; }
        .product-card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.08); transition: transform 0.2s; }
        .product-card:hover { transform: translateY(-5px); }
        .product-image { height: 220px; background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%); display: flex; align-items: center; justify-content: center; font-size: 4rem; }
        .product-info { padding: 1.3rem; }
        .product-category { font-size: 0.75rem; color: var(--accent); text-transform: uppercase; font-weight: 600; }
        .product-title { font-size: 1.15rem; margin: 0.4rem 0; font-weight: 600; }
        .product-price { font-weight: 700; font-size: 1.3rem; }
        .add-btn { width: 100%; padding: 12px; margin-top: 1rem; background: var(--primary); color: white; border: none; cursor: pointer; border-radius: 6px; }
        .add-btn:hover { background: var(--accent); }
        footer { background: var(--primary); color: white; text-align: center; padding: 2rem; }
        .cart-modal { display: none; position: fixed; top: 0; right: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 200; justify-content: flex-end; }
        .cart-content { background: white; width: 400px; max-width: 90%; height: 100%; padding: 1.5rem; display: flex; flex-direction: column; overflow-y: auto; }
        .cart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid #eee; }
        .close-cart { cursor: pointer; font-size: 2rem; }
        .cart-item { display: flex; justify-content: space-between; align-items: center; padding: 1rem 0; border-bottom: 1px solid #f4f4f4; }
        .checkout-btn { margin-top: auto; padding: 15px; background: var(--accent); color: white; border: none; font-size: 1.1rem; cursor: pointer; border-radius: 8px; }
        .checkout-btn:hover { background: #d35400; }
        .toast { position: fixed; bottom: 25px; right: 25px; background: #27ae60; color: white; padding: 14px 24px; border-radius: 10px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); z-index: 1000; animation: slideIn 0.3s ease; display: none; }
        .toast.error { background: #e74c3c; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @media (max-width: 600px) { .cart-content { width: 100%; } .hero h1 { font-size: 2rem; } }
    </style>
</head>
<body>
    <header>
        <div class="logo" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">Brand<span>orivk</span></div>
        <div class="cart-icon" onclick="toggleCart()">üõí Cart <span class="cart-count" id="cartCount">0</span></div>
    </header>
    <section class="hero">
        <h1>Define Your Style</h1>
        <p>Exclusive collection of T-shirts, Shirts, and Pants.</p>
        <br>
        <button onclick="document.getElementById('products').scrollIntoView({behavior: 'smooth'})">Shop Now</button>
    </section>
    <div class="container" id="products">
        <div class="filters">
            <button class="filter-btn active" onclick="filterProducts('all', event)">All</button>
            <button class="filter-btn" onclick="filterProducts('tshirt', event)">T-Shirts</button>
            <button class="filter-btn" onclick="filterProducts('shirt', event)">Shirts</button>
            <button class="filter-btn" onclick="filterProducts('pants', event)">Pants</button>
        </div>
        <div class="product-grid" id="productGrid"></div>
    </div>
    <footer><p>&copy; 2024 Brandorivk v2.0. All rights reserved.</p></footer>
    <div class="cart-modal" id="cartModal">
        <div class="cart-content">
            <div class="cart-header">
                <h2>Your Cart</h2>
                <span class="close-cart" onclick="toggleCart()">&times;</span>
            </div>
            <div id="cartItems"><p style="text-align:center; padding:2rem; color:#888;">Your cart is empty üõí</p></div>
            <div style="margin-top: 20px; font-weight: bold; font-size: 1.2rem; padding-top: 1rem; border-top: 1px solid #eee;">
                Total: $<span id="cartTotal">0.00</span>
            </div>
            <button class="checkout-btn" onclick="checkout()">Checkout</button>
        </div>
    </div>
    <div id="toast" class="toast"></div>

    <script src="js/config.js?v=2.0"></script>
    <script>
        let cart = JSON.parse(localStorage.getItem('brandorivk_cart_v2')) || [];
        const productGrid = document.getElementById('productGrid');
        const cartCount = document.getElementById('cartCount');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        const cartModal = document.getElementById('cartModal');

        function renderProducts(filter = 'all', search = '') {
            productGrid.innerHTML = '';
            const filtered = getProducts().filter(p => {
                const cat = filter === 'all' || p.category === filter;
                const srch = p.name.toLowerCase().includes(search.toLowerCase());
                return cat && srch;
            });
            if (!filtered.length) { productGrid.innerHTML = '<p style="grid-column:1/-1;text-align:center;padding:2rem;">No products found.</p>'; return; }
            filtered.forEach(p => {
                const inCart = cart.find(i => i.id === p.id);
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <div class="product-image">${p.image.includes('unsplash') ? 'üëï' : 'üñºÔ∏è'}</div>
                    <div class="product-info">
                        <div class="product-category">${p.category}</div>
                        <h3 class="product-title">${p.name}</h3>
                        <p style="font-size:0.9rem;color:#666;margin:0.3rem 0;">${p.description}</p>
                        <div class="product-price">$${p.price.toFixed(2)}</div>
                        <div style="font-size:0.8rem;color:${p.stock<5?'#e74c3c':'#27ae60'};margin:0.3rem 0;">${p.stock<5?`üî• ${p.stock} left`:'‚úÖ In Stock'}</div>
                        <button class="add-btn" onclick="addToCart(${p.id})" ${p.stock<=0?'disabled':''}>${inCart?'‚úì In Cart':'Add to Cart'}</button>
                    </div>`;
                productGrid.appendChild(card);
            });
        }

        function filterProducts(cat, e) {
            e?.preventDefault();
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            e.target.classList.add('active');
            renderProducts(cat);
        }

        function addToCart(id) {
            const p = getProductById(id);
            if (!p || p.stock <= 0) { showToast('Out of stock!', 'error'); return; }
            const existing = cart.find(i => i.id === id);
            if (existing) { if (existing.quantity < p.stock) existing.quantity++; else { showToast('Max reached', 'error'); return; } }
            else cart.push({ ...p, quantity: 1 });
            saveCart(); updateCartUI(); showToast(`${p.name} added!`);
        }

        function removeFromCart(idx) { cart.splice(idx, 1); saveCart(); updateCartUI(); showToast('Removed'); }
        function updateQty(idx, change) {
            const item = cart[idx], p = getProductById(item.id);
            if (item.quantity + change <= 0) { removeFromCart(idx); return; }
            if (item.quantity + change > p.stock) { showToast('Max stock', 'error'); return; }
            item.quantity += change; saveCart(); updateCartUI();
        }
        function saveCart() { localStorage.setItem('brandorivk_cart_v2', JSON.stringify(cart)); }
        function updateCartUI() {
            const total = cart.reduce((s, i) => s + i.quantity, 0);
            cartCount.textContent = total;
            cartCount.style.display = total > 0 ? 'inline-block' : 'none';
            if (!cart.length) { cartItems.innerHTML = '<p style="text-align:center;padding:2rem;color:#888;">Your cart is empty üõí</p>'; cartTotal.textContent = '0.00'; return; }
            let sum = 0; cartItems.innerHTML = '';
            cart.forEach((item, idx) => {
                const itemTotal = item.price * item.quantity; sum += itemTotal;
                const el = document.createElement('div');
                el.className = 'cart-item';
                el.innerHTML = `<div><strong>${item.name}</strong><br><small>$${item.price.toFixed(2)} √ó ${item.quantity}</small></div>
                    <div style="display:flex;align-items:center;gap:8px;">
                        <button onclick="updateQty(${idx},-1)" style="width:28px;height:28px;border:1px solid #ddd;background:white;cursor:pointer;">-</button>
                        <span>${item.quantity}</span>
                        <button onclick="updateQty(${idx},1)" style="width:28px;height:28px;border:1px solid #ddd;background:white;cursor:pointer;">+</button>
                        <strong style="margin-left:12px;">$${itemTotal.toFixed(2)}</strong>
                        <button onclick="removeFromCart(${idx})" style="background:none;border:none;color:#e74c3c;cursor:pointer;font-size:1.2rem;">√ó</button>
                    </div>`;
                cartItems.appendChild(el);
            });
            cartTotal.textContent = sum.toFixed(2);
        }
        function showToast(msg, type = 'success') {
            const t = document.getElementById('toast');
            t.textContent = msg; t.className = 'toast' + (type === 'error' ? ' error' : '');
            t.style.display = 'block'; setTimeout(() => t.style.display = 'none', 2500);
        }
        function checkout() {
            if (!cart.length) { showToast('Cart is empty!', 'error'); return; }
            window.location.href = 'checkout.html?v=2.0';
        }
        function toggleCart() {
            cartModal.style.display = cartModal.style.display === 'flex' ? 'none' : 'flex';
            if (cartModal.style.display === 'flex') updateCartUI();
        }
        cartModal?.addEventListener('click', e => { if (e.target === cartModal) toggleCart(); });
        document.addEventListener('DOMContentLoaded', () => { renderProducts(); updateCartUI(); });
    </script>
</body>
</html>